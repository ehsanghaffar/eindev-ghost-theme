{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["var button = document.querySelector(\".theme-selector\");\nvar prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\nvar currentTheme;\nvar btnText = document.getElementById(\"btnText\");\n\nfunction setTheme(currentTheme) {\n    var pressed = currentTheme === \"dark\" ? \"true\" : \"false\";\n    document.documentElement.setAttribute(\n        \"data-theme-preference\",\n        currentTheme\n    );\n    localStorage.setItem(\"theme-preference\", currentTheme);\n}\n\nif (localStorage.getItem(\"theme-preference\")) {\n    currentTheme = localStorage.getItem(\"theme-preference\");\n} else if (prefersDark.matches) {\n    currentTheme = \"dark\";\n} else {\n    // default\n    currentTheme = \"light\";\n}\n\nbutton.addEventListener(\"click\", function (event) {\n    currentTheme =\n        document.documentElement.getAttribute(\"data-theme-preference\") ===\n        \"dark\"\n            ? \"light\"\n            : \"dark\";\n    setTheme(currentTheme);\n    if (currentTheme === \"light\") {\n        btnText.innerText = \"حالت تیره\";\n    } else {\n        btnText.innerText = \"حالت روشن\";\n    }\n});\n\nprefersDark.addEventListener(\"change\", function (event) {\n    currentTheme = event.matches ? \"dark\" : \"light\";\n    setTheme(currentTheme);\n});\n\nwindow.onload = () => {\n    currentTheme = localStorage.getItem(\"theme-preference\");\n    let lang = document.documentElement.getAttribute(\"lang\");\n    if (currentTheme === \"light\") {\n        btnText.innerText = \"حالت تیره\";\n    } else {\n        btnText.innerText = \"حالت روشن\";\n    }\n    document.documentElement.setAttribute(\n        \"data-theme-preference\",\n        currentTheme\n    );\n    setDir(lang);\n};\n\nconst setDir = (lang) => {\n    if (lang === \"fa\") {\n        document.documentElement.setAttribute(\"dir\", \"rtl\");\n    } else if (lang === \"en\") {\n        document.documentElement.setAttribute(\"dir\", \"ltr\");\n    }\n};\n"],"names":["currentTheme","button","document","querySelector","prefersDark","window","matchMedia","btnText","getElementById","setTheme","documentElement","setAttribute","localStorage","setItem","getItem","matches","addEventListener","event","getAttribute","innerText","onload","let","lang","setDir"],"mappings":"AAAA,IAEIA,aAFAC,OAASC,SAASC,cAAc,iBAAiB,EACjDC,YAAcC,OAAOC,WAAW,8BAA8B,EAE9DC,QAAUL,SAASM,eAAe,SAAS,EAE/C,SAASC,SAAST,GAEdE,SAASQ,gBAAgBC,aACrB,wBACAX,CACJ,EACAY,aAAaC,QAAQ,mBAAoBb,CAAY,CACzD,CAGIA,aADAY,aAAaE,QAAQ,kBAAkB,EACxBF,aAAaE,QAAQ,kBAAkB,EAC/CV,YAAYW,QACJ,OAGA,QAGnBd,OAAOe,iBAAiB,QAAS,SAAUC,GAMvCR,SALAT,aAEI,SADAE,SAASQ,gBAAgBQ,aAAa,uBAAuB,EAEvD,QACA,MACW,EAEjBX,QAAQY,UADS,UAAjBnB,aACoB,YAEA,WAE5B,CAAC,EAEDI,YAAYY,iBAAiB,SAAU,SAAUC,GAE7CR,SADAT,aAAeiB,EAAMF,QAAU,OAAS,OACnB,CACzB,CAAC,EAEDV,OAAOe,OAAS,KACZpB,aAAeY,aAAaE,QAAQ,kBAAkB,EACtDO,IAAIC,EAAOpB,SAASQ,gBAAgBQ,aAAa,MAAM,EAEnDX,QAAQY,UADS,UAAjBnB,aACoB,YAEA,YAExBE,SAASQ,gBAAgBC,aACrB,wBACAX,YACJ,EACAuB,OAAOD,CAAI,CACf,EAEA,IAAMC,OAAS,IACE,OAATD,EACApB,SAASQ,gBAAgBC,aAAa,MAAO,KAAK,EAClC,OAATW,GACPpB,SAASQ,gBAAgBC,aAAa,MAAO,KAAK,CAE1D"}